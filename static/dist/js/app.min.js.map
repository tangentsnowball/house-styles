{"version":3,"sources":["app.js"],"names":["app","window","main","init","self","this","setupDropdownButtonCloseOnClick","setupDisableOtherDropdownsOnClick","setupTabs","setupAlertMessageClosing","setupPopups","$","on","removeClass","setupFormButtonDisableOnSubmit","submit","find","attr","click","e","stopPropagation","preventDefault","closest","toggleClass","length","tab","parentel","parent","addClass","children","fadeOut","fadeIn","popup","$target","option","position","scrolltop","scrollTop","css","keyCode","popupClose","event","undefined","$this","target","document","ready"],"mappings":"AAAA,GAAIA,KAAMC,OAAOD,OAEjBA,KAAIE,MAEAC,KAAM,WACF,YACA,IAAIC,GAAOC,IACXD,GAAKE,kCACLF,EAAKG,oCACLH,EAAKI,YACLJ,EAAKK,2BACLL,EAAKM,YAAYN,IAGrBE,gCAAiC,WAC7B,YACAK,GAAE,QAAQC,GAAG,mBAAoB,WAC7BD,EAAE,cAAcE,YAAY,WAIpCC,+BAAgC,WAE5B,YACAH,GAAE,QAAQI,OAAO,WACbJ,EAAEN,MAAMW,KAAK,wBAAwBC,KAAK,WAAW,eAI7DV,kCAAmC,WAG/B,YACAI,GAAE,oBAAoBO,MAAM,SAASC,GACjCA,EAAEC,kBACFD,EAAEE,iBACFV,EAAE,cAAcE,YAAY,QAC5BF,EAAEN,MAAMiB,QAAQ,cAAcC,YAAY,WAIlDf,UAAW,WAEP,YACGG,GAAE,gBAAgBa,QAAU,GAG/Bb,EAAE,gBAAgBK,KAAK,UAAUE,MAAM,SAASC,GAC5C,GAAIM,GAAMd,EAAEN,MAAMY,KAAK,OACvB,IAAGN,EAAEc,GAAKD,OAAS,EAAG,CAClBL,EAAEE,gBACF,IAAIK,GAAWf,EAAEN,MAAMiB,QAAQ,OAC/BI,GAASV,KAAK,MAAMH,YAAY,UAChCF,EAAEN,MAAMsB,SAASC,SAAS,UAC1BjB,EAAEc,GAAKH,QAAQ,eAAeO,SAAS,YAAYhB,YAAY,UAC/DF,EAAEc,GAAKG,SAAS,cAK5BnB,yBAA0B,WACtB,YAEAE,GAAE,QAAQC,GAAG,QAAQ,gBAAgB,SAASO,GAC1CA,EAAEE,iBACFV,EAAEN,MAAMsB,SAASG,aAIzBpB,YAAa,SAASN,GAClB,YAEAO,GAAE,QAAQC,GAAG,QAAQ,gBAAgB,SAASO,GAC1CA,EAAEE,iBACFV,EAAE,iBAAiBK,KAAK,SAASe,QACjC,IAAIC,GAAQrB,EAAEN,MAAMY,KAAK,eACrBgB,EAAUtB,EAAE,kBAAoBqB,EAAQ,KACxCE,EAAS,EAETC,EAAWxB,EAAEN,MAAMY,KAAK,gBAO5B,IALGkB,IACCF,EAAQL,SAASO,GACjBD,EAAS,IAGTA,EAAQ,CACR,GAAIE,GAAYzB,EAAEV,QAAQoC,WAC1BJ,GAAQK,IAAI,MAAMF,EAAY,IAElCH,EAAQF,SAASH,SAAS,qBAE9BjB,EAAE,QAAQC,GAAG,QAAS,SAASO,GACV,KAAdA,EAAEoB,SACDnC,EAAKoC,eAGb7B,EAAE,SAASC,GAAG,QAAS,SAASO,GAC5Bf,EAAKoC,eAET7B,EAAE,UAAUO,MAAM,SAASuB,GACzBA,EAAMrB,oBAERT,EAAE,yBAAyBO,MAAM,SAASC,GACtCA,EAAEE,iBACFjB,EAAKoC,WAAWrB,MAIxBqB,WAAY,SAASrB,GACjB,GAASuB,SAANvB,EACCR,EAAE,uBAAuBmB,UACzBnB,EAAE,0BAA0BmB,cACzB,CACH,GAAIa,GAAQhC,EAAEQ,EAAEyB,OAChBjC,GAAE,uBAAuBmB,UACzBa,EAAMrB,QAAQ,UAAUQ,aAMpCnB,EAAEkC,UAAUC,MAAM,WACd9C,IAAIE,KAAKC","file":"app.min.js","sourcesContent":["var app = window.app || {};\n\napp.main = {\n\n    init: function() {\n        'use strict';\n        var self = this;\n        self.setupDropdownButtonCloseOnClick();\n        self.setupDisableOtherDropdownsOnClick();\n        self.setupTabs();\n        self.setupAlertMessageClosing();\n        self.setupPopups(self);\n    },\n\n    setupDropdownButtonCloseOnClick: function() {\n        'use strict';\n        $('html').on('click touchstart', function(){\n            $('.btn-group').removeClass('open'); //button dropdowns\n        });\n    },\n\n    setupFormButtonDisableOnSubmit: function() {\n        //if we want any forms to not be submittable twice, add the 'js-disable-on-click' class to any buttons in the form\n        'use strict';\n        $('form').submit(function(){\n            $(this).find('.js-disable-on-click').attr('disabled','disabled');\n        });\n    },\n\n    setupDisableOtherDropdownsOnClick: function() {\n        //button dropdowns\n        //note that this should be removed for oscar projects as it will be in the js already\n        'use strict';\n        $('.dropdown-toggle').click(function(e){\n            e.stopPropagation();\n            e.preventDefault();\n            $('.btn-group').removeClass('open');\n            $(this).closest('.btn-group').toggleClass('open');\n        });\n    },\n\n    setupTabs: function() {\n        //initialise tabs\n        'use strict';\n        if($('.js-tabbable').length <= 0) {\n            return;\n        }\n        $('.js-tabbable').find('.nav a').click(function(e) {\n            var tab = $(this).attr('href');\n            if($(tab).length > 0) {\n                e.preventDefault();\n                var parentel = $(this).closest('.nav');\n                parentel.find('li').removeClass('active');\n                $(this).parent().addClass('active');\n                $(tab).closest('.tabwrapper').children('.tabpane').removeClass('active');\n                $(tab).addClass('active');\n            }\n        });\n    },\n\n    setupAlertMessageClosing: function() {\n        'use strict';\n        //alert messages\n        $('body').on('click','.alert .close',function(e){\n            e.preventDefault();\n            $(this).parent().fadeOut();\n        });\n    },\n\n    setupPopups: function(self) {\n        'use strict';\n        //popups\n        $('body').on('click','.js-openpopup',function(e){\n            e.preventDefault();\n            $('.popupwrapper').find('.mask').fadeIn();\n            var popup = $(this).attr('data-target'),\n                $target = $('.popup[data-id=' + popup + ']'),\n                option = 0, //used to detect positioning options\n            //if fixed position\n                position = $(this).attr('data-position');\n\n            if(position){\n                $target.addClass(position);\n                option = 1;\n            }\n\n            if(!option) {\n                var scrolltop = $(window).scrollTop();\n                $target.css('top',scrolltop + 50);\n            }\n            $target.fadeIn().addClass('js-enabledpopup');\n        });\n        $('body').on('keyup', function(e) {\n            if(e.keyCode === 27) {\n                self.popupClose();\n            }\n        });\n        $('.mask').on('click', function(e) {\n            self.popupClose();\n        });\n        $('.popup').click(function(event){\n          event.stopPropagation();\n        });\n        $('.popup .js-closepopup').click(function(e){\n            e.preventDefault();\n            self.popupClose(e);\n        });\n    },\n\n    popupClose: function(e) {\n        if(e === undefined) {\n            $('.popupwrapper .mask').fadeOut();\n            $('.popup.js-enabledpopup').fadeOut();\n        } else {\n            var $this = $(e.target);\n            $('.popupwrapper .mask').fadeOut();\n            $this.closest('.popup').fadeOut();\n        }\n    }\n\n};\n\n$(document).ready(function() {\n    app.main.init();\n});\n"],"sourceRoot":"/source/"}